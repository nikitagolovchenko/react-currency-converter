(this["webpackJsonpcurrency-converter-test-task"]=this["webpackJsonpcurrency-converter-test-task"]||[]).push([[0],{120:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n.n(r),a=n(11),u=n.n(a),o=n(45),i=n(14),s=n(53),l=n(41),d=n(154),j=n(167),b=n(159),f=n(5),p=Object(d.a)((function(e){return{root:{display:"flex",marginBottom:e.spacing(2)},field:{flexGrow:1},btn:{marginLeft:e.spacing(2)}}})),O=function(e){var t=e.submit,n=p(),c=Object(r.useState)(""),a=Object(l.a)(c,2),u=a[0],o=a[1],i=Object(r.useState)(!0),s=Object(l.a)(i,2),d=s[0],O=s[1];return Object(f.jsxs)("form",{className:n.root,noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault();var n=u.trim().split(" ");t({value:n[0].toUpperCase(),to:n[3].toUpperCase(),from:n[1].toUpperCase(),result:null}),o("")},children:[Object(f.jsx)(j.a,{className:n.field,id:"outlined-basic",variant:"outlined",placeholder:"15 usd in uah",value:u,onChange:function(e){o(e.target.value),4===u.split(" ").length?O(!1):O(!0)}}),Object(f.jsx)(b.a,{className:n.btn,type:"submit",variant:"contained",color:"primary",size:"large",disabled:d,children:"Get result"})]})},h=n(168),m=n(162),v=n(163),x=n(164),y=n(16),g=n.n(y),C=n(34),w=n(35),k=n(52),B=n.n(k),S=function(){var e=Object(C.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.get("".concat("https://free.currconv.com/api/v7/","countries?apiKey=").concat("05e7862fe2f55138c0a6"));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(C.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.get("".concat("https://free.currconv.com/api/v7/","convert?q=").concat(t.from,"_").concat(t.to,"&compact=ultra&apiKey=").concat("05e7862fe2f55138c0a6"));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(C.a)(g.a.mark((function e(t){var n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.currencies.map((function(e){return"".concat(e,"_").concat(t.base)})).join(",").trim(),e.next=3,B.a.get("".concat("https://free.currconv.com/api/v7/","convert?q=").concat(n,"&compact=ultra&apiKey=").concat("05e7862fe2f55138c0a6"));case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=Object(w.b)("currency/getCountries",Object(C.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:return t=e.sent,e.abrupt("return",t.data.results);case 4:case"end":return e.stop()}}),e)})))),U=Object(w.b)("currency/getCurrency",function(){var e=Object(C.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(t);case 2:return n=e.sent,e.abrupt("return",{value:t.value,result:+t.value*n.data["".concat(t.from,"_").concat(t.to)],from:t.from,to:t.to});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),R=Object(w.b)("currency/getCurrencies",function(){var e=Object(C.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),_=Object(w.c)({name:"currency",initialState:{countries:{},loading:!1,baseCurrency:{id:"UAH"},currency:{value:"",to:"",from:"",result:null},currencies:[],selectedCurrencies:["USD","EUR"]},reducers:{setBaseCurrency:function(e,t){e.baseCurrency.id=t.payload}},extraReducers:function(e){e.addCase(E.pending,(function(e){e.loading=!0})).addCase(E.fulfilled,(function(e,t){e.loading=!1,e.countries=t.payload})).addCase(E.rejected,(function(e){e.loading=!1})).addCase(U.pending,(function(e){e.loading=!0})).addCase(U.fulfilled,(function(e,t){e.loading=!1,e.currency=t.payload})).addCase(U.rejected,(function(e){e.loading=!1})).addCase(R.pending,(function(e){e.loading=!0})).addCase(R.fulfilled,(function(e,t){e.loading=!1,e.currencies=t.payload})).addCase(R.rejected,(function(e){e.loading=!1}))}}),z=_.actions.setBaseCurrency,K=function(e){return e.currency},q=_.reducer,A=n(46),D=function(){return Object(A.b)()},F=A.c,G=n(160),J=n(161),L=Object(d.a)((function(e){return{logo:{marginRight:"auto"}}})),V=function(){var e=L(),t=Object(i.g)();return Object(f.jsx)(G.a,{position:"static",children:Object(f.jsxs)(J.a,{children:[Object(f.jsx)(s.a,{variant:"h6",className:e.logo,children:"Rect currency converter app"}),"/currencies"===t.pathname&&Object(f.jsx)(b.a,{component:o.b,to:"/",color:"inherit",children:"Back home"}),"/"===t.pathname&&Object(f.jsx)(b.a,{component:o.b,to:"/currencies",color:"inherit",children:"Currencies list"})]})})},H=function(e){var t=e.children,n=F(K);return Object(f.jsxs)(h.a,{position:"relative",width:"100%",overflow:"hidden",children:[Object(f.jsx)(m.a,{}),n.loading&&Object(f.jsx)(h.a,{position:"absolute",zIndex:"100",top:"0",left:"0",width:"100%",children:Object(f.jsx)(v.a,{color:"secondary"})}),Object(f.jsx)(V,{}),Object(f.jsx)(h.a,{component:"main",pt:3,children:Object(f.jsx)(x.a,{maxWidth:"md",children:Object(f.jsx)(f.Fragment,{children:t})})})]})},M=function(){var e=F(K),t=D();return Object(f.jsxs)(H,{children:[Object(f.jsx)(O,{submit:function(e){t(U(e))}}),!e.currency.result&&Object(f.jsx)(s.a,{children:"..."}),!isNaN(e.currency.result)&&e.currency.result&&Object(f.jsxs)(s.a,{children:[e.currency.value," ",e.currency.from," ="," ",e.currency.result," ",e.currency.to]})]})},T=n(158),W=n(165),P=n(166),Q=Object(d.a)((function(e){return{root:{}}})),X=function(e){var t=e.currencies,n=Q();return Object(f.jsx)(h.a,{className:n.root,children:Object(f.jsx)(T.a,{children:function(){var e=[];for(var n in t){var r=n.split("_");e.push("1 ".concat(r[0]," = ").concat(t[n]," ").concat(r[1]))}return e}().map((function(e,t){return Object(f.jsx)(W.a,{button:!0,children:Object(f.jsx)(P.a,{primary:e})},t)}))})})},Y=n(47),Z=n(170),$=n(169),ee=Object(d.a)((function(e){return Object(Z.a)({formControl:{marginBottom:e.spacing(2),width:130},selectEmpty:{marginTop:e.spacing(2)}})})),te=function(e){var t=e.changeBaseCur,n=(ee(),F(K)),a=c.a.useState({currencyId:n.baseCurrency.id}),u=Object(l.a)(a,2),o=u[0],i=u[1],s=c.a.useState(""),d=Object(l.a)(s,2),b=d[0],p=d[1];Object(r.useEffect)((function(){o&&t(o.currencyId)}),[o]);return Object(f.jsx)(h.a,{display:"flex",justifyContent:"flex-end",mb:2,children:Object(f.jsx)($.a,{id:"select-currency",options:function(){var e=[],t=n.countries;for(var r in t)e.push(Object(Y.a)(Object(Y.a)({},t[r]),{},{active:!1}));return e}(),getOptionLabel:function(e){return e.currencyId},style:{width:300},value:o,onChange:function(e,t){i(t)},inputValue:b,onInputChange:function(e,t){p(t)},renderInput:function(e){return Object(f.jsx)(j.a,Object(Y.a)(Object(Y.a)({},e),{},{label:"box",variant:"outlined"}))}})})},ne=function(){var e=D(),t=F(K);Object(r.useEffect)((function(){var n={base:t.baseCurrency.id,currencies:t.selectedCurrencies};e(R(n))}),[e,t.baseCurrency.id]);return Object(f.jsxs)(H,{children:[Object(f.jsx)(te,{changeBaseCur:function(t){e(z(t))}}),Object(f.jsx)(X,{currencies:t.currencies})]})},re=function(){var e=D();F(K);return Object(r.useEffect)((function(){e(E())}),[]),Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(o.a,{children:Object(f.jsxs)(i.d,{children:[Object(f.jsx)(i.b,{path:"/",component:M,exact:!0}),Object(f.jsx)(i.b,{path:"/currencies",component:ne,exact:!0}),Object(f.jsx)(i.a,{to:"/"})]})})})},ce=n(18),ae=n(27),ue=n(77),oe={key:"root",version:1,storage:n.n(ue).a},ie=Object(ce.b)({currency:q}),se=Object(ae.g)(oe,ie),le=Object(w.a)({reducer:se,middleware:Object(w.d)({serializableCheck:{ignoredActions:[ae.a,ae.f,ae.b,ae.c,ae.d,ae.e]}})}),de=Object(ae.h)(le),je=n(78);u.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(A.a,{store:le,children:Object(f.jsx)(je.a,{loading:null,persistor:de,children:Object(f.jsx)(re,{})})})}),document.getElementById("root"))}},[[120,1,2]]]);
//# sourceMappingURL=main.83336f8d.chunk.js.map