(this["webpackJsonpcurrency-converter-test-task"]=this["webpackJsonpcurrency-converter-test-task"]||[]).push([[0],{120:function(e,n,t){"use strict";t.r(n);var r=t(0),c=t.n(r),a=t(11),o=t.n(a),i=t(45),u=t(14),s=t(53),l=t(41),d=t(154),f=t(167),j=t(159),b=t(5),p=Object(d.a)((function(e){return{root:{display:"flex",marginBottom:e.spacing(2)},field:{flexGrow:1},btn:{marginLeft:e.spacing(2)}}})),h=function(e){var n=e.submit,t=p(),c=Object(r.useState)(""),a=Object(l.a)(c,2),o=a[0],i=a[1],u=Object(r.useState)(!0),s=Object(l.a)(u,2),d=s[0],h=s[1];return Object(b.jsxs)("form",{className:t.root,noValidate:!0,autoComplete:"off",onSubmit:function(e){e.preventDefault();var t=o.trim().split(" ");n({value:t[0].toUpperCase(),to:t[3].toUpperCase(),from:t[1].toUpperCase(),result:null}),i("")},children:[Object(b.jsx)(f.a,{className:t.field,id:"outlined-basic",variant:"outlined",placeholder:"15 usd in uah",value:o,onChange:function(e){i(e.target.value),4===o.split(" ").length?h(!1):h(!0)}}),Object(b.jsx)(j.a,{className:t.btn,type:"submit",variant:"contained",color:"primary",size:"large",disabled:d,children:"Get result"})]})},v=t(168),O=t(162),m=t(163),g=t(164),x=t(16),y=t.n(x),w=t(34),C=t(35),k=t(52),B=t.n(k),N=function(){var e=Object(w.a)(y.a.mark((function e(){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.get("".concat("https://free.currconv.com/api/v7/","countries?apiKey=").concat("05e7862fe2f55138c0a6"));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(w.a)(y.a.mark((function e(n){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.get("".concat("https://free.currconv.com/api/v7/","convert?q=").concat(n.from,"_").concat(n.to,"&compact=ultra&apiKey=").concat("05e7862fe2f55138c0a6"));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),S=function(){var e=Object(w.a)(y.a.mark((function e(n){var t,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.currencies.map((function(e){return"".concat(e,"_").concat(n.base)})).join(",").trim(),e.next=3,B.a.get("".concat("https://free.currconv.com/api/v7/","convert?q=").concat(t,"&compact=ultra&apiKey=").concat("05e7862fe2f55138c0a6"));case 3:return r=e.sent,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),I=Object(C.b)("currency/getCountries",Object(w.a)(y.a.mark((function e(){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N();case 2:return n=e.sent,e.abrupt("return",n.data.results);case 4:case"end":return e.stop()}}),e)})))),U=Object(C.b)("currency/getCurrency",function(){var e=Object(w.a)(y.a.mark((function e(n){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(n);case 2:return t=e.sent,e.abrupt("return",{value:n.value,result:+n.value*t.data["".concat(n.from,"_").concat(n.to)],from:n.from,to:n.to});case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),R=Object(C.b)("currency/getCurrencies",function(){var e=Object(w.a)(y.a.mark((function e(n){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(n);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),W=Object(C.c)({name:"currency",initialState:{countries:{},loading:!1,baseCurrency:{id:"UAH"},currency:{value:"",to:"",from:"",result:null},currencies:[],selectedCurrencies:["USD","EUR"]},reducers:{setBaseCurrency:function(e,n){e.baseCurrency.id=n.payload}},extraReducers:function(e){e.addCase(I.pending,(function(e){e.loading=!0})).addCase(I.fulfilled,(function(e,n){e.loading=!1,e.countries=n.payload})).addCase(I.rejected,(function(e){e.loading=!1})).addCase(U.pending,(function(e){e.loading=!0})).addCase(U.fulfilled,(function(e,n){e.loading=!1,e.currency=n.payload})).addCase(U.rejected,(function(e){e.loading=!1})).addCase(R.pending,(function(e){e.loading=!0})).addCase(R.fulfilled,(function(e,n){e.loading=!1,e.currencies=n.payload})).addCase(R.rejected,(function(e){e.loading=!1}))}}),L=W.actions.setBaseCurrency,_=function(e){return e.currency},z=W.reducer,A=t(46),K=function(){return Object(A.b)()},q=A.c,D=t(160),F=t(161),G=Object(d.a)((function(e){return{logo:{marginRight:"auto"}}})),J=function(){var e=G(),n=Object(u.g)();return Object(b.jsx)(D.a,{position:"static",children:Object(b.jsxs)(F.a,{children:[Object(b.jsx)(s.a,{variant:"h6",className:e.logo,children:"Rect currency converter app"}),"/currencies"===n.pathname&&Object(b.jsx)(j.a,{component:i.b,to:"/",color:"inherit",children:"Back home"}),"/"===n.pathname&&Object(b.jsx)(j.a,{component:i.b,to:"/currencies",color:"inherit",children:"Currencies list"})]})})},V=function(e){var n=e.children,t=q(_);return Object(b.jsxs)(v.a,{position:"relative",width:"100%",overflow:"hidden",children:[Object(b.jsx)(O.a,{}),t.loading&&Object(b.jsx)(v.a,{position:"absolute",zIndex:"100",top:"0",left:"0",width:"100%",children:Object(b.jsx)(m.a,{color:"secondary"})}),Object(b.jsx)(J,{}),Object(b.jsx)(v.a,{component:"main",pt:3,children:Object(b.jsx)(g.a,{maxWidth:"md",children:Object(b.jsx)(b.Fragment,{children:n})})})]})},H=function(){var e=q(_),n=K();return Object(b.jsxs)(V,{children:[Object(b.jsx)(h,{submit:function(e){n(U(e))}}),!e.currency.result&&Object(b.jsx)(s.a,{children:"..."}),!isNaN(e.currency.result)&&e.currency.result&&Object(b.jsxs)(s.a,{children:[e.currency.value," ",e.currency.from," ="," ",e.currency.result," ",e.currency.to]})]})},M=t(158),T=t(165),$=t(166),P=Object(d.a)((function(e){return{root:{}}})),Q=function(e){var n=e.currencies,t=P();return Object(b.jsx)(v.a,{className:t.root,children:Object(b.jsx)(M.a,{children:function(){var e=[];for(var t in n){var r=t.split("_");e.push("1 ".concat(r[0]," = ").concat(n[t]," ").concat(r[1]))}return e}().map((function(e,n){return Object(b.jsx)(T.a,{button:!0,children:Object(b.jsx)($.a,{primary:e})},n)}))})})},X=t(47),Y=t(170),Z=t(169),ee=Object(d.a)((function(e){return Object(Y.a)({formControl:{marginBottom:e.spacing(2),width:130},selectEmpty:{marginTop:e.spacing(2)}})})),ne=function(e){var n=e.changeBaseCur,t=(ee(),q(_)),a=c.a.useState({currencyId:t.baseCurrency.id}),o=Object(l.a)(a,2),i=o[0],u=o[1],s=c.a.useState(""),d=Object(l.a)(s,2),j=d[0],p=d[1];Object(r.useEffect)((function(){i&&n(i.currencyId)}),[i]);return Object(b.jsx)(v.a,{display:"flex",justifyContent:"flex-end",mb:2,children:Object(b.jsx)(Z.a,{id:"select-currency",options:function(){var e=[],n=t.countries;for(var r in n)e.push(Object(X.a)(Object(X.a)({},n[r]),{},{active:!1}));return e}(),getOptionLabel:function(e){return e.currencyId},style:{width:300},value:i,onChange:function(e,n){u(n)},inputValue:j,onInputChange:function(e,n){p(n)},renderInput:function(e){return Object(b.jsx)(f.a,Object(X.a)(Object(X.a)({},e),{},{label:"box",variant:"outlined"}))}})})},te=function(){var e=K(),n=q(_);Object(r.useEffect)((function(){var t={base:n.baseCurrency.id,currencies:n.selectedCurrencies};e(R(t))}),[e,n.baseCurrency.id]);return Object(b.jsxs)(V,{children:[Object(b.jsx)(ne,{changeBaseCur:function(n){e(L(n))}}),Object(b.jsx)(Q,{currencies:n.currencies})]})},re=function(){var e=K();q(_);return Object(r.useEffect)((function(){e(I())}),[]),Object(b.jsx)(b.Fragment,{children:Object(b.jsx)(i.a,{basename:"/react-currency-converter",children:Object(b.jsxs)(u.d,{children:[Object(b.jsx)(u.b,{path:"/",component:H,exact:!0}),Object(b.jsx)(u.b,{path:"/currencies",component:te,exact:!0}),Object(b.jsx)(u.a,{to:"/"})]})})})},ce=t(18),ae=t(27),oe=t(77),ie={key:"root",version:1,storage:t.n(oe).a},ue=Object(ce.b)({currency:z}),se=Object(ae.g)(ie,ue),le=Object(C.a)({reducer:se,middleware:Object(C.d)({serializableCheck:{ignoredActions:[ae.a,ae.f,ae.b,ae.c,ae.d,ae.e]}})}),de=Object(ae.h)(le),fe=t(78),je=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function be(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(A.a,{store:le,children:Object(b.jsx)(fe.a,{loading:null,persistor:de,children:Object(b.jsx)(re,{})})})}),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/react-currency-converter",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/react-currency-converter","/service-worker.js");je?function(e){fetch(e).then((function(n){404===n.status||-1===n.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):be(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):be(e)}))}}()}},[[120,1,2]]]);
//# sourceMappingURL=main.2b90e196.chunk.js.map